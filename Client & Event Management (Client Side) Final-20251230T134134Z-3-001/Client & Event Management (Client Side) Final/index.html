<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EOS | Event Management System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="assets/img/EOS_logo.png" alt="EOS Logo">
            </div>
            <div class="hamburger">
                <div class="line"></div><div class="line"></div><div class="line"></div>
            </div>
            
            <ul class="nav-links">
                <li><a href="index.html" class="nav-item active">Home</a></li>
                
                <li class="nav-reveal"><a href="#about" class="nav-item">About</a></li>
                <li class="nav-reveal"><a href="#packages" class="nav-item">Packages</a></li>
                
                <li><a href="book_now.html" class="nav-item">Book Now</a></li>
                <li><a href="my_bookings.html" class="nav-item">My Bookings</a></li>
                
                <li class="mobile-auth"><a href="login.html" class="btn btn-outline-light">Sign In</a></li>
            </ul>

            <div class="auth-buttons" id="desktopAuthContainer">
                <a href="login.html" class="btn btn-outline-light">Sign In</a>
                <a href="register.html" class="btn btn-solid-light">Sign Up</a>
            </div>

            <div class="user-dropdown" id="userDropdownContainer" style="display: none;">
                <div class="user-trigger">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <span class="username-text" id="userNameDisplay">User</span>
                    <i class="fas fa-chevron-down arrow-icon"></i>
                </div>
                <div class="dropdown-menu">
                    <a href="my_bookings.html" class="dropdown-item"><i class="fas fa-calendar-check"></i> My Bookings</a>
                    <div class="dropdown-divider"></div>
                    <a href="php/logout.php" class="dropdown-item logout-item"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </nav>
    </header>

    <section id="home" class="hero-slider">
        <div class="slider-container">
            <div class="slide active" style="background-image: url('assets/img/hero-bg-1.jpg');">
                <div class="hero-overlay"></div>
                <div class="content">
                    <h1 class="hero-title">ELEGANCE IN EVERY DETAIL.</h1>
                    <p class="hero-subtitle">Where creativity meets perfection.</p>
                    <a href="#about" class="btn btn-outline-light">DISCOVER MORE</a>
                </div>
            </div>
            <div class="slide" style="background-image: url('assets/img/hero-bg-2.jpg');">
                <div class="hero-overlay"></div>
                <div class="content">
                    <h1 class="hero-title">MAKE YOUR EVENT UNFORGETTABLE.</h1>
                    <p class="hero-subtitle">We turn your celebrations into lasting memories.</p>
                    <a href="book_now.html" class="btn btn-outline-light">START PLANNING</a>
                </div>
            </div>
            <div class="slider-dots"><span class="dot active"></span><span class="dot"></span></div>
        </div>
    </section>

    <section id="about" class="section-padding bg-beige-light">
        <div class="container">
            <h2 class="section-title text-center reveal-up">STEP INTO A WORLD OF SEAMLESS CELEBRATIONS</h2>
            <div class="about-container reveal-up">
                <div class="about-image-wrapper"><img src="assets/img/about-img.jpg" alt="About EOS"></div>
                <div class="about-content">
                    <h3 class="vino-text">Smart, Fast, Hassle — <br>The New Way to Plan an Event.</h3>
                    <p>Say goodbye to stressful coordinating and endless checklists. With our all-in-one digital event management platform, you can explore high-quality event packages tailored to your needs, customize every detail, and finalize your entire event with just a few clicks.</p>
                    <p class="emphasis-text">Welcome to the future of celebrations.</p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-separator">
        <div class="separator-line"></div><div class="separator-icon"><i class="fas fa-gem"></i></div><div class="separator-line"></div>
    </div>

    <section id="packages" class="section-padding bg-beige">
        <div class="container">
            <div class="section-header-flex reveal-up">
                <h2 class="section-title-left">Explore Packages</h2>
                <a href="book_now.html" class="btn btn-solid-vino">See All</a>
            </div>
            <div class="packages-grid reveal-up">
                <div class="package-card">
                    <div class="package-img-container"><img src="assets/img/package-silver.jpg"></div>
                    <div class="package-info">
                        <h3>Silver Package</h3>
                        <div class="package-footer"><span class="price">₱15,000</span><a href="book_now.html" class="btn btn-outline-vino-sm">Book</a></div>
                    </div>
                </div>
                <div class="package-card">
                    <div class="package-img-container"><img src="assets/img/package-gold.jpg"></div>
                    <div class="package-info">
                        <h3>Gold Package</h3>
                        <div class="package-footer"><span class="price">₱35,000</span><a href="book_now.html" class="btn btn-outline-vino-sm">Book</a></div>
                    </div>
                </div>
                <div class="package-card">
                    <div class="package-img-container"><img src="assets/img/package-platinum.jpg"></div>
                    <div class="package-info">
                        <h3>Platinum Package</h3>
                        <div class="package-footer"><span class="price">₱70,000</span><a href="book_now.html" class="btn btn-outline-vino-sm">Book</a></div>
                    </div>
                </div>
                <div class="package-card">
                    <div class="package-img-container"><img src="assets/img/package-custom.jpg"></div>
                    <div class="package-info">
                        <h3>Custom Builder</h3>
                        <div class="package-footer"><span class="price">Flexible</span><a href="book_now.html" class="btn btn-outline-vino-sm">Build</a></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-separator">
        <div class="separator-line"></div><div class="separator-icon"><i class="fas fa-camera-retro"></i></div><div class="separator-line"></div>
    </div>

    <section class="section-padding bg-beige-light">
        <div class="container text-center">
            <h2 class="section-title reveal-up">CAPTURE THE MOMENTS</h2>
            <p class="reveal-up">Discover the unforgettable highlights from our events.</p>
            <div class="gallery-grid reveal-up">
                <div class="polaroid"><img src="assets/img/gallery-wedding.jpg"><div class="caption">Wedding</div></div>
                <div class="polaroid"><img src="assets/img/gallery-graduation.jpg"><div class="caption">Graduation</div></div>
                <div class="polaroid"><img src="assets/img/gallery-concert.jpg"><div class="caption">Concert</div></div>
                <div class="polaroid"><img src="assets/img/gallery-birthday.jpg"><div class="caption">Birthday</div></div>
            </div>
        </div>
    </section>

    <div class="section-separator">
        <div class="separator-line"></div><div class="separator-icon"><i class="fas fa-quote-left"></i></div><div class="separator-line"></div>
    </div>

    <section class="section-padding bg-beige">
        <div class="container text-center">
            <h2 class="section-title reveal-up">WHAT OUR CLIENTS SAY</h2>
            <p class="reveal-up" style="color:#666; margin-bottom: 30px;">Real feedback from our recent events.</p>
            
            <div class="testimonial-slider reveal-up">
                <div class="testimonial-track" id="testimonialTrack">
                    <div style="padding: 20px; color:#888;">Loading reviews...</div>
                </div>
            </div>
        </div>
    </section>

   <footer class="footer-modern">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col brand-col">
                    <div class="footer-logo-text">EOS Events</div>
                    <p class="footer-desc">
                        Orchestrating elegance, one detail at a time. We turn your celebrations into lasting memories.
                    </p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>

                <div class="footer-col links-col">
                    <h4 class="footer-heading">Explore</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#packages">Packages</a></li>
                        <li><a href="book_now.html">Book an Event</a></li>
                        <li><a href="my_bookings.html">My Account</a></li>
                    </ul>
                </div>

                <div class="footer-col contact-col">
                    <h4 class="footer-heading">Get in Touch</h4>
                    <ul class="contact-list">
                        <li><i class="fas fa-map-marker-alt"></i> Bacolod City, Philippines</li>
                        <li><i class="fas fa-phone"></i> +63 912 345 6789</li>
                        <li><i class="fas fa-envelope"></i> hello@eos-events.com</li>
                    </ul>
                    
                    <div class="newsletter-box">
                        <p>Subscribe for updates:</p>
                        <form class="newsletter-form">
                            <input type="email" placeholder="Email Address">
                            <button type="button"><i class="fas fa-arrow-right"></i></button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="container bottom-flex">
                <p>&copy; 2025 EOS Event Management. All Rights Reserved.</p>
                <div class="legal-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Hamburger Menu Logic
        document.querySelector('.hamburger').addEventListener('click', () => {
            document.querySelector('.nav-links').classList.toggle('nav-active');
            const mobileAuth = document.querySelector('.mobile-auth');
            if (mobileAuth && mobileAuth.style.display !== 'none') {
                mobileAuth.style.display = document.querySelector('.nav-links').classList.contains('nav-active') ? 'block' : 'none';
            }
        });

        // --- NEW: FETCH FEEDBACK LOGIC ---
        document.addEventListener('DOMContentLoaded', fetchFeedbacks);

        async function fetchFeedbacks() {
            try {
                // Call the API created in Step 3
                const res = await fetch('php/api_get_feedbacks.php');
                const data = await res.json();
                const track = document.getElementById('testimonialTrack');
                
                if(!data || data.length === 0) {
                    track.innerHTML = '<div style="padding:20px; width:100%; text-align:center;">No feedback yet. Be the first to book!</div>';
                    return;
                }

                // Generate HTML for cards
                const cardsHtml = data.map(fb => createCard(fb)).join('');
                
                // We inject the cards. If you have a scrolling animation CSS that needs 
                // duplicated content for an infinite loop, we add it twice.
                track.innerHTML = cardsHtml;
                
            } catch (e) { 
                console.error("Error loading feedbacks:", e); 
                document.getElementById('testimonialTrack').innerHTML = '<div style="padding:20px;">Unable to load reviews.</div>';
            }
        }

        function createCard(fb) {
            // Generate star icons based on rating number
            let stars = '';
            for(let i=0; i<5; i++) {
                if(i < fb.rating) stars += '<i class="fas fa-star"></i>';
                else stars += '<i class="far fa-star"></i>';
            }

            // Create a simple avatar from first letter
            const firstLetter = fb.client_name ? fb.client_name.charAt(0).toUpperCase() : 'C';

            return `
            <div class="testimonial-card">
                <div class="avatar-large" style="background: var(--vino); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold;">
                    ${firstLetter}
                </div>
                <h3>${fb.client_name}</h3>
                <div class="rating">${stars}</div>
                <p class="testimonial-text">"${fb.comment}"</p>
            </div>
            `;
        }
    </script>
</body>
</html>